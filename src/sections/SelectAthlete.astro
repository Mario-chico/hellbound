---
import AthleteBigImage from "../components/AthleteBigImage.astro";
import { ATHLETES } from "../const/athletes";
const listOfAthletes = ATHLETES.map((athlete) => {
  return {...athlete}
});
const selectedAthleteId = Astro.url.searchParams.get("athlete");
const selectedAtlete = listOfAthletes.find(({id}) => id === selectedAthleteId) || listOfAthletes[0];
console.log("esto aparece aqui " + listOfAthletes);
---

<section>
  <h2>Selecciona un atleta</h2>
  <div>
    <article>
      <AthleteBigImage 
        id={selectedAtlete.id}
        name={selectedAtlete.name}
        loading={selectedAthleteId ? "lazy" : "eager"}
        />
    </article>
    <aside>
      
    </aside>
  </div>
</section>
<style>
  div {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 24px;
    margin-top: 24px;
  } 
  article {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 24px;
  }
  @media screen and (min-width: 768px) {
    article{
      position: absolute;
    }
  }
</style>