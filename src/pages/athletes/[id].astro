---
import AthleteBigImage from "@/components/AthleteBigImage.astro";
import { ATHLETES } from "@/const/athletes";
import type { Preload } from "@/types/Preload";
import Layout from "@/layouts/Layout.astro";

export function getStaticPaths()  {
  return ATHLETES.map(({ id }) => {
    return { params: { id } }
  })
}
const { id } = Astro.params;
const [athlete] = ATHLETES.filter((athlete) => athlete.id === id);

const preloadAthleteImage: Preload[] = [
  {
    as: "image",
    href: `/athletes/${id}-big.webp`,
    type: "image/webp",
    rel: "preload",
  },
]
export const prerender = true
---
<Layout title={`${athlete.name} - Hellbound Cup`} description="El evento mas perro alv" preload={preloadAthleteImage}>
  <main>
    <AthleteBigImage 
      id={id}
      name={athlete.name}
      loading="eager" />
  </main>
</Layout>
